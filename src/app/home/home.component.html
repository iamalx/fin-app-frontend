<!--
  ~ Copyright (c) 2016 VMware, Inc. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->
<!--<clr-dropdown>-->
<!--    <button clrDropdownTrigger class="btn">-->
<!--        Dropdown-->
<!--        <clr-icon shape="caret down"></clr-icon>-->
<!--    </button>-->
<!--    <clr-dropdown-menu *clrIfOpen clrPosition="bottom-right">-->
<!--        <a clrDropdownItem href="javascript://">Action 1</a>-->
<!--        <a clrDropdownItem href="javascript://">Action 2</a>-->
<!--        <div class="dropdown-divider">-->

<!--        </div>-->
<!--        <a clrDropdownItem href="javascript://">Link 1</a>-->
<!--        <a clrDropdownItem href="javascript://">Link 2</a>-->
<!--    </clr-dropdown-menu>-->
<!--</clr-dropdown> <br>-->
<!--THis is favorites section-->
<p id='userName' *ngIf='user'>
    Welcome! {{user.firstName}}
  </p>
<div class='fav-side'>
  <app-favorites></app-favorites>
</div>
  
  <div class='search1'>
    <div class='options1'>
      <button (click)='getDailyyData(stockName.value)' class='item'>Daily</button>
      <button (click)='getWeeklyData(stockName.value)' class='item'>Weekly</button>
      <button (click)='getMonthlyData(stockName.value)' class='item'>Monthly</button>
      <button (click)='getYearlyData(stockName.value)' class='item'>Yearly</button>
    </div>
    <input id='searchBox' class="..search" type="text" placeholder='  Enter stock symbol...' name="stockName" #stockName>
    <button id='submitButton' class='btn btn-primary' name='submitName' (click)='onApi(stockName.value)'>
      Search
    </button>
  </div>
  
  <div class='wrapper card'>
    <div class="row" *ngIf='finalLineChartArray.length > 0 '>
      <div class="table1" style="margin-bottom: 10px">
        <table class="dates1 table table-responsive table-condensed">
          <tr>
            <th *ngFor="let label of lineChartLabels">{{label}}</th>
          </tr>
          <tr *ngFor="let d of lineChartData">
            <td *ngFor="let label of lineChartLabels; let j=index">{{d && d.data[j]}}</td>
          </tr>
        </table>
      </div>
      <div class=" chart1">
        <div>
          <canvas baseChart width="1090%" height="500%" id='canvas' 
          [datasets]="lineChartData" 
          [labels]="lineChartLabels" 
          [colors]="lineChartColors"
          [options]="lineChartOptions" 
          [legend]="lineChartLegend" 
          [chartType]="lineChartType"
          (chartHover)="chartHovered($event)"
          (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
  </div>

  <div class= 'main-side'>
  
    <div class="row side1">
      <div class="col-lg-5 col-md-8 col-sm-12 col-xs-12">
        <div class="card">
          <div class="card-header">
          Daily Price: {{ tickersymbolSearch || uppercase}}
          </div>
          <div class="card-block">
            <div class="card-title">
              <ol>
                <li>Open: {{open}}
                <li>Close: {{close}}
                <li>High: {{high}}
                <li>Low: {{low}}
              </ol>
            </div>
            <div class="card-text">
              {{date}}
            </div>
          </div>
          <div *ngIf='open || high' class="card-footer">
            <button class="btn btn-sm btn-link">see more data</button>
            <button class="btn btn-sm btn-link">discover similar stocks</button>
          </div>
        </div>
      </div>
    </div>
  
    <div class="row side1">
      <div class="col-lg-5 col-md-8 col-sm-12 col-xs-1">
        <div class="card"  *ngIf='open || high'>
          <div class="card-header">
            Market News 
          </div>
          <div class="card-block" >
              <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner"  >
                  <div class="carousel-item active" *ngIf='newsArray[0]'>
                    <div class="card-title">
                      {{newsArray[0].title}}
                    </div>
                      <div class="card-text">
                        {{newsArray[0].summary}}
                      <a href={{newsArray[0].url}}>Read more...</a>
                    </div>
                  </div>
                  <div class="carousel-item" *ngIf='newsArray[1]'>
                    <div class="card-title">
                      {{newsArray[1].title}}
                    </div>
                    <div class="card-text">
                      {{newsArray[1].summary}}
                      <a href={{newsArray[1].url}}>Read more...</a>
                    </div>
                  </div>
                  <div class="carousel-item" *ngIf='newsArray[2]'>
                    <div class="card-title">
                      {{newsArray[2].title}}
                    </div>
                    <div class="card-text">
                      {{newsArray[2].summary}}
                      <a href={{newsArray[2].url}}>Read more...</a>
                    </div>
                  </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
          </div>
          <div class="card-footer">
            <button class="btn btn-sm btn-link">find similar articles</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  
